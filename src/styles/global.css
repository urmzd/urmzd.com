@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --animate-aurora: aurora 60s linear infinite;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --z-header: 50;
  --z-navbar-menu: 60;
  --z-floating-dock: 40;
  --z-link-preview: 70;
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@keyframes aurora {
  from {
    background-position: 50% 50%, 50% 50%;
  }

  to {
    background-position: 350% 50%, 350% 50%;
  }
}

@keyframes drift {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }

  50% {
    transform: translate3d(2%, -2%, 0) scale(1.04);
  }

  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes float-slow {
  0% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-8px);
  }

  100% {
    transform: translateY(0);
  }
}

@keyframes splash-letter {
  0% {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes splash-reveal {
  0% {
    opacity: 0;
    filter: blur(12px) brightness(0.6);
  }

  100% {
    opacity: 0.85;
    filter: blur(0) brightness(1);
  }
}

@keyframes splash-boom {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.6);
  }

  20% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.4);
  }
}

@keyframes path-flow {
  to {
    stroke-dashoffset: -220;
  }
}

@keyframes node-travel {
  0% {
    offset-distance: 0%;
    opacity: 0.7;
    transform: scale(1);
  }

  70% {
    opacity: 0.35;
  }

  100% {
    offset-distance: 100%;
    opacity: 0;
    transform: scale(0.6);
  }
}

@keyframes tracer-travel {
  0% {
    offset-distance: 0%;
  }

  100% {
    offset-distance: 100%;
  }
}

@keyframes pulse-focus {

  0%,
  80% {
    box-shadow: 0 0 0 0 oklch(0.88 0.08 80 / 0%);
  }

  90% {
    box-shadow: 0 0 0 12px oklch(0.88 0.08 80 / 15%);
  }

  100% {
    box-shadow: 0 0 0 0 oklch(0.88 0.08 80 / 0%);
  }
}

@keyframes orbit {
  0% {
    transform: translateZ(0) rotateX(12deg) rotateZ(0deg);
  }

  100% {
    transform: translateZ(0) rotateX(12deg) rotateZ(360deg);
  }
}

@keyframes orbit-card {
  0% {
    transform: rotateY(var(--angle)) translateZ(150px);
  }

  100% {
    transform: rotateY(calc(var(--angle) + 360deg)) translateZ(150px);
  }
}

@layer components {
  .splash-root {
    background: oklch(0.12 0 0);
  }

  .splash-veil {
    @apply absolute inset-0;
    background: oklch(0.04 0 0);
    opacity: 1;
    transition: opacity 0.8s ease;
    z-index: 0;
  }

  .splash-awake .splash-veil {
    opacity: 0;
  }

  .splash-burst {
    @apply absolute left-1/2 top-1/2;
    width: 70vmax;
    height: 70vmax;
    border-radius: 999px;
    background: radial-gradient(circle,
        oklch(0.9 0.08 85 / 65%),
        transparent 62%);
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.6);
    pointer-events: none;
  }

  .splash-boom .splash-burst {
    animation: splash-boom 1s ease-out forwards;
  }

  .splash-texture {
    @apply absolute inset-0;
    background-image: radial-gradient(circle at 20% 20%,
        oklch(0.85 0.08 80 / 45%),
        transparent 55%),
      radial-gradient(circle at 80% 40%,
        oklch(0.88 0.05 200 / 35%),
        transparent 60%),
      radial-gradient(circle at 40% 80%,
        oklch(0.92 0.06 40 / 40%),
        transparent 65%);
    filter: blur(20px);
    animation: aurora 40s linear infinite;
  }

  .splash-tile {
    @apply h-24 w-full rounded-xl bg-cover bg-center opacity-60;
    animation: drift 18s ease-out infinite;
    filter: grayscale(35%) contrast(95%);
  }

  .splash-letter {
    @apply inline-block;
    animation: splash-letter 0.6s ease-out forwards;
    opacity: 0;
  }

  .name-script {
    font-family: "Great Vibes", cursive;
    letter-spacing: 0.05em;
  }

  .name-float {
    animation: float-slow 10s ease-out infinite;
  }

  .splash-stage {
    @apply absolute inset-0;
    perspective: 1100px;
    transform-style: preserve-3d;
    transform: rotateX(18deg) rotateZ(-6deg);
  }

  .splash-graph {
    @apply absolute left-1/2 top-1/2 h-[140%] w-[140%] -translate-x-1/2 -translate-y-1/2 opacity-35;
  }

  .splash-path {
    stroke: oklch(0.85 0.06 80 / 60%);
    stroke-width: 2;
    stroke-dasharray: 12 14;
    fill: none;
    animation: path-flow 12s linear infinite;
  }

  .splash-node {
    fill: oklch(0.88 0.08 80 / 70%);
    offset-path: path("M40,80 C200,140 120,240 240,320 C360,400 280,520 420,560 C520,600 520,640 360,620 C320,610 300,600 300,600"
      );
    animation: node-travel 7.5s ease-out infinite;
    will-change: offset-distance, transform, opacity;
  }

  .splash-node-2 {
    animation-duration: 9.5s;
    animation-delay: 1.6s;
  }

  .splash-node-3 {
    animation-duration: 11.5s;
    animation-delay: 3s;
  }

  .splash-tracer {
    fill: oklch(0.9 0.1 80 / 80%);
    offset-path: path("M40,80 C200,140 120,240 240,320 C360,400 280,520 420,560 C520,600 520,640 360,620 C320,610 300,600 300,600"
      );
    animation: tracer-travel 7.5s linear infinite;
    filter: drop-shadow(0 0 12px oklch(0.9 0.1 80 / 40%));
    will-change: offset-distance, transform;
  }

  .splash-graph-image {
    @apply absolute left-0 top-0 rounded-2xl bg-cover bg-center shadow-xl transition-transform duration-300;
    width: var(--size, 120px);
    height: calc(var(--size, 120px) * 0.72);
    offset-path: var(--path);
    offset-distance: var(--offset, 50%);
    offset-anchor: center;
    offset-rotate: 0deg;
    opacity: 0;
    filter: grayscale(18%) contrast(0.95);
    animation: splash-reveal 0.9s ease forwards;
    animation-delay: var(--delay, 0s);
    transform: translateZ(var(--depth, 0px)) rotateX(var(--tilt, 0deg)) rotateZ(var(--spin, 0deg));
    transform-style: preserve-3d;
    cursor: pointer;
    will-change: opacity;
  }

  .splash-graph-image:hover {
    transform: translateZ(var(--depth, 0px)) rotateX(var(--tilt, 0deg)) rotateZ(var(--spin, 0deg)) scale(1.08);
    opacity: 0.95;
    filter: grayscale(0%);
    z-index: 20;
  }

  .splash-graph-image:focus-visible {
    outline: 2px solid oklch(0.9 0.1 80 / 60%);
    outline-offset: 3px;
  }

  .splash-graph-caption {
    @apply absolute -bottom-16 left-1/2 w-52 -translate-x-1/2 rounded-xl bg-background/80 px-3 py-2 text-xs text-foreground opacity-0 shadow-lg transition-opacity duration-300;
    pointer-events: none;
    backdrop-filter: blur(6px);
  }

  .splash-graph-caption strong {
    @apply block text-[0.7rem] uppercase tracking-[0.2em] text-foreground/70;
  }

  .splash-graph-image:hover .splash-graph-caption,
  .splash-graph-image:focus-visible .splash-graph-caption {
    opacity: 1;
  }

  .splash-flow-label {
    @apply text-xs uppercase tracking-[0.3em] text-foreground/70 sm:text-sm;
    animation: float-slow 8s ease-out infinite;
  }

  .splash-textile {
    @apply absolute inset-0;
    background-image: repeating-linear-gradient(45deg,
        oklch(0.92 0.02 80 / 15%) 0,
        oklch(0.92 0.02 80 / 15%) 1px,
        transparent 1px,
        transparent 6px),
      repeating-linear-gradient(-45deg,
        oklch(0.9 0.03 200 / 12%) 0,
        oklch(0.9 0.03 200 / 12%) 1px,
        transparent 1px,
        transparent 7px);
    mix-blend-mode: multiply;
  }

  .name-chip {
    @apply relative flex items-center justify-center rounded-full border border-foreground/20 bg-background/70 px-6 py-4 shadow-xl;
    backdrop-filter: blur(6px);
  }

  .name-chip::after {
    content: "";
    position: absolute;
    inset: -12px;
    border-radius: 999px;
    border: 1px solid oklch(0.88 0.08 80 / 40%);
    opacity: 0.6;
  }

  .name-node {
    @apply absolute -left-3 top-1/2 h-3 w-3 -translate-y-1/2 rounded-full bg-foreground/70;
    box-shadow: 0 0 12px oklch(0.88 0.08 80 / 50%);
  }

  .splash-focus {
    @apply relative h-40 w-40;
    perspective: 800px;
    transform-style: preserve-3d;
    animation: orbit 22s linear infinite;
  }

  .splash-focus-card {
    @apply absolute left-1/2 top-1/2 h-16 w-20 -translate-x-1/2 -translate-y-1/2 rounded-xl bg-cover bg-center opacity-75 shadow-xl;
    transform-style: preserve-3d;
    animation: orbit-card 18s linear infinite;
  }

  .splash-focus:hover {
    animation-play-state: paused;
  }

  .splash-focus:hover .splash-focus-card {
    animation-play-state: paused;
  }

  .hero-texture {
    @apply absolute inset-0 opacity-40;
    background-image: radial-gradient(circle at 20% 20%,
        oklch(0.87 0.07 90 / 55%),
        transparent 55%),
      radial-gradient(circle at 80% 30%,
        oklch(0.9 0.04 200 / 35%),
        transparent 60%),
      radial-gradient(circle at 40% 80%,
        oklch(0.92 0.05 30 / 40%),
        transparent 65%);
    animation: aurora 50s linear infinite;
  }

  .hero-tile {
    @apply rounded-2xl bg-cover bg-center opacity-20 shadow-xl;
    animation: float-slow 14s ease-out infinite;
    filter: grayscale(40%);
  }

  .landing-shell {
    @apply relative z-10 flex min-h-screen items-center justify-center px-6 py-24;
  }

  .landing-content {
    @apply flex max-w-2xl flex-col items-center gap-6 text-center;
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .landing-hidden {
    opacity: 0;
    transform: translateY(12px);
    pointer-events: none;
  }

  .landing-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .textile-fixed {
    @apply fixed inset-0;
    z-index: 0;
    opacity: 0;
    transition: opacity 1s ease;
    pointer-events: none;
    -webkit-mask-image: radial-gradient(circle at 50% 45%,
        #000 0%,
        #000 60%,
        transparent 100%);
    mask-image: radial-gradient(circle at 50% 45%,
        #000 0%,
        #000 60%,
        transparent 100%);
  }

  .textile-visible {
    opacity: 1;
  }

  .textile-grid {
    @apply grid h-full w-full gap-5 p-8 sm:p-12 lg:p-16;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }

  .textile-tile {
    @apply bg-cover bg-center shadow-lg;
    border-radius: var(--tile-radius, 22% 18% 24% 16%);
    transform: rotate(var(--tile-rotate, 0deg)) scale(1.02);
    opacity: 0.32;
    filter: grayscale(35%) contrast(0.9);
  }

  .textile-glow {
    @apply absolute inset-0;
    background: radial-gradient(circle at 50% 40%,
        oklch(0.9 0.05 80 / 30%),
        transparent 60%);
    opacity: 0.6;
  }

  .landing-root {
    @apply relative min-h-screen overflow-hidden bg-background;
  }

  .landing-skip {
    @apply fixed bottom-8 right-8 z-20 text-sm text-muted-foreground transition-colors;
  }

  .landing-skip:hover {
    color: var(--foreground);
  }

  /* Film Roll Animation Styles */
  .film-loading {
    @apply absolute inset-0 flex flex-col items-center justify-center gap-4;
  }

  .film-loading-text {
    @apply text-sm text-white/60;
    font-family: "IBM Plex Mono", monospace;
    letter-spacing: 0.1em;
  }

  .film-loading-bar {
    @apply h-1 w-48 overflow-hidden rounded-full bg-white/10;
  }

  .film-loading-progress {
    @apply h-full bg-white/40 transition-all duration-300;
  }

  .film-container {
    @apply relative flex h-screen w-full items-center justify-center overflow-hidden;
  }

  .film-mask {
    @apply relative overflow-hidden;
    width: min(85vw, 600px);
    height: min(70vh, 500px);
    border-radius: 8px;
    box-shadow:
      0 0 0 4px #1a1a1a,
      0 0 0 6px #2a2a2a,
      0 20px 60px rgba(0, 0, 0, 0.8);
  }

  .film-strip {
    @apply absolute left-0 top-0 w-full;
    will-change: transform;
  }

  .film-frame {
    @apply relative w-full;
    background-size: cover;
    background-position: center;
    border-bottom: 3px solid #1a1a1a;
  }

  .film-frame-overlay {
    @apply absolute inset-0 flex items-end;
    background: linear-gradient(to top,
        rgba(0, 0, 0, 0.85) 0%,
        rgba(0, 0, 0, 0.4) 40%,
        transparent 100%);
    padding: 1rem;
  }

  .film-frame-meta {
    @apply flex flex-col gap-1;
  }

  .film-frame-label {
    @apply text-xs font-medium uppercase tracking-widest text-white/80;
  }

  .film-frame-desc {
    @apply text-sm text-white/60;
    font-family: "IBM Plex Mono", monospace;
  }

  .film-sprocket {
    @apply absolute top-1/2 h-3 w-3 -translate-y-1/2 rounded-sm bg-black;
    box-shadow:
      0 -20px 0 #000,
      0 20px 0 #000,
      0 -40px 0 #000,
      0 40px 0 #000,
      0 -60px 0 #000,
      0 60px 0 #000;
  }

  .film-sprocket-left {
    left: 6px;
  }

  .film-sprocket-right {
    right: 6px;
  }

  .film-grain {
    @apply pointer-events-none absolute inset-0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.08;
    mix-blend-mode: overlay;
  }

  .film-vignette {
    @apply pointer-events-none absolute inset-0;
    background: radial-gradient(ellipse at center,
        transparent 40%,
        rgba(0, 0, 0, 0.7) 100%);
  }

  .final-card-container {
    @apply absolute inset-0 flex items-center justify-center;
  }

  .final-card-contact {
    @apply mt-6 flex flex-col items-center gap-1;
  }

  .final-card-contact-label {
    @apply text-xs uppercase tracking-widest text-muted-foreground/70;
    font-family: "IBM Plex Mono", monospace;
  }

  .final-card-email {
    @apply text-sm text-foreground/80 transition-colors hover:text-foreground;
    font-family: "IBM Plex Mono", monospace;
    text-decoration: none;
  }

  .final-card-email:hover {
    text-shadow: 0 0 12px color-mix(in oklch, var(--foreground) 30%, transparent);
  }

  .rolodex {
    @apply relative z-10 flex min-h-screen items-center justify-center px-6;
  }

  .rolodex-card {
    @apply absolute w-[69.3vw] rounded-2xl bg-black shadow-2xl;
    height: 20vh;
    min-height: 180px;
    max-width: 840px;
    padding: 1.5rem;
    transition: opacity 0.45s ease-in-out;
    overflow: visible;
    position: relative;
    transform-origin: 50% 15%;
  }

  .rolodex-card-image::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, oklch(0 0 0 / 80%), transparent 60%);
    z-index: 1;
  }

  .rolodex-card-hidden {
    opacity: 0;
    pointer-events: none;
  }

  /* Flip animation removed to prevent flickering - using opacity crossfade instead */

  .rolodex-face {
    @apply relative flex flex-row items-center gap-5;
    height: 100%;
    width: 100%;
    z-index: 2;
    backface-visibility: hidden;
    align-items: center;
  }

  .rolodex-card-image {
    overflow: hidden;
  }

  .rolodex-meta strong {
    @apply block text-xs uppercase tracking-[0.3em] text-white/60;
  }

  .rolodex-meta span {
    @apply text-sm text-white/80;
  }

  .rolodex-meta {
    max-width: 58%;
    overflow: hidden;
  }

  .rolodex-meta span {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.2;
  }

  .rolodex-card-final {
    border: 1px solid rgba(255, 255, 255, 0.08);
    background: #080808;
  }

  .rolodex-bg {
    position: absolute;
    inset: 0;
    background-image: var(--card-bg);
    background-size: cover;
    background-position: center;
    z-index: 0;
  }

  .rolodex-final-face {
    justify-content: center;
  }

  .final-card {
    @apply flex flex-col items-center gap-3 text-center text-foreground;
    width: 100%;
  }

  .final-card-title {
    @apply text-2xl font-bold sm:text-4xl;
    font-family: "IBM Plex Mono", monospace;
    letter-spacing: 0.04em;
    line-height: 1.1;
  }

  .final-card-subtitle {
    @apply text-xs uppercase tracking-[0.25em] text-muted-foreground;
    font-family: "IBM Plex Mono", monospace;
    line-height: 1.2;
  }

  .final-card-phonetic {
    @apply text-xs text-muted-foreground/70;
    font-family: "IBM Plex Mono", monospace;
    letter-spacing: 0.06em;
    line-height: 1.2;
    margin-top: 0.5rem;
  }

  .final-card-pronunciation {
    @apply text-xs text-muted-foreground/60;
    font-family: "IBM Plex Mono", monospace;
    letter-spacing: 0.04em;
    line-height: 1.2;
    font-style: italic;
  }

  .final-card-intro {
    @apply text-sm text-foreground/80;
    font-family: "IBM Plex Mono", monospace;
    line-height: 1.4;
    max-width: 30rem;
  }

  .final-card-link {
    @apply text-xs uppercase tracking-[0.25em] text-muted-foreground;
    font-family: "IBM Plex Mono", monospace;
    transition: color 0.2s ease;
  }

  .final-card-link:hover {
    @apply text-foreground;
  }

  .final-card-name-link {
    color: inherit;
    transition: color 0.2s ease, text-shadow 0.2s ease;
    text-decoration: none;
  }

  .final-card-name-link:hover {
    color: inherit;
    text-shadow: 0 0 20px oklch(1 0 0 / 30%);
  }

  .final-card-bracket {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
    font-size: 1em;
    opacity: 0.7;
  }

  .timeline-label {
    pointer-events: none;
  }

  .timeline-label-inner {
    @apply rounded-xl border border-white/10 bg-black/70 px-3 py-2 text-xs text-white/80 shadow-lg;
    max-width: 140px;
    text-align: center;
    backdrop-filter: blur(8px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }

  .timeline-label-inner strong {
    @apply block text-[0.65rem] uppercase tracking-[0.2em] text-white/60;
    margin-bottom: 2px;
  }

  .timeline-label-inner span {
    display: block;
    font-size: 0.7rem;
    line-height: 1.2;
  }

  /* Scroll snap utilities for timeline */
  .scroll-snap-y-proximity {
    scroll-snap-type: y proximity;
  }

  .scroll-snap-start {
    scroll-snap-align: start;
  }

  .blog-search {
    @apply flex flex-col gap-6;
  }

  .blog-search-input {
    @apply mb-2;
  }

  .blog-search-count {
    @apply text-sm text-muted-foreground;
  }

  /* Code block copy button */
  .code-block-wrapper {
    @apply relative;
  }

  .copy-button {
    @apply absolute right-2 top-2 flex h-8 w-8 items-center justify-center rounded-md border border-border bg-background/80 text-muted-foreground opacity-0 transition-all;
    backdrop-filter: blur(4px);
  }

  .code-block-wrapper:hover .copy-button {
    @apply opacity-100;
  }

  .copy-button:hover {
    @apply border-primary bg-background text-foreground;
  }

  .copy-button.copied {
    @apply border-green-500 text-green-500;
  }
}

@media (prefers-reduced-motion: reduce) {

  .splash-graph-image,
  .splash-burst,
  .splash-path,
  .splash-node,
  .splash-tracer,
  .splash-flow-label,
  .splash-focus,
  .splash-focus-card {
    animation: none;
  }
}